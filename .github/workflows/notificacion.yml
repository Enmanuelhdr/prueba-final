name: Telegram Notification on Push to Main

env:
  TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
  TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}

on:
    push:
        branches:
        - main

jobs:
    Send-Telegram-Notification:
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@v3

        - name: Send Telegram Notification
          run: |
            TELEGRAM_MESSAGE="A push was made to the main branch of ${GITHUB_REPOSITORY}"
            TELEGRAM_URL="https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage?chat_id=${TELEGRAM_CHAT_ID}text=${TELEGRAM_MESSAGE}"
            echo "$TELEGRAM_URL"
